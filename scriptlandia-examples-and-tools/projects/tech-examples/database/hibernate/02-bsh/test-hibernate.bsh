// test-hibernate.bsh

import org.sf.jlaunchpad.*;
import org.sf.jlaunchpad.core.*;
import org.sf.scriptlandia.ScriptlandiaHelper;
import org.sf.scriptlandia.*;

//addClassPath(".");

//Launcher launcher = LauncherManager.getLauncher();
Launcher launcher = ScriptlandiaHelper.getLauncher();

launcher.addClasspathEntry(".");

sourceRelative("User.bsh");


/*
//addClassPath(".");

//ScriptlandiaLauncher launcher = ScriptlandiaLauncher.getInstance();

import org.sf.scriptlandia.launcher.LauncherManager;
*/

ScriptlandiaHelper.resolveDependencies("hsqldb", "hsqldb", "1.8.0.7");
ScriptlandiaHelper.resolveDependencies("org.hibernate", "hibernate", "3.2.5.ga");

import org.hibernate.*;
import org.hibernate.cfg.Configuration;


configuration configuration = new Configuration();

configuration.configure(new File("hibernate.cfg.xml"));

//conf.addClass(getClass("User"));

//configuration.addResource("User.hbm.xml", launcher.getClass().getClassLoader());
configuration.addFile("User.hbm.xml");

//configuration.addDirectory(new File("."));


/*
SessionFactory sessionFactory = conf.buildSessionFactory();
Session session = sessionFactory.openSession();

User user = new User();
user.setId(1000);
user.setName("Test User");
user.setAge(24);

Transaction t = session.beginTransaction();
session.save(user);
t.commit();

session.close();
  */