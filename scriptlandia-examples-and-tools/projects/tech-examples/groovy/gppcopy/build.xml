<?xml version="1.0"?>

<project name="build" basedir="." default="gppcopy">

  <property name="title" value="Learning Java"/>
  <property name="h1" value="Chapter 1"/>
  <property name="footer" value="Copyright 2007"/>

  <property name="html.files" value="."/>

  <!-- Standard initialization of the gppcopy task: -->
  <target name="gppInit" description="gppInit">
    <path id="gppcopy.classpath">
      <pathelement location="${repository.home}/groovytools/groovytools-ant/1.0.0/groovytools-ant-1.0.0.jar"/>
      <pathelement location="${repository.home}/org/codehaus/groovy/groovy-all/1.1-rc-2/groovy-all-1.1-rc-2.jar"/>
    </path>

    <taskdef resource="groovytools/ant/gpp/taskdef.properties">
      <classpath refid="gppcopy.classpath"/>
    </taskdef>
  </target>

  <!-- Initialize, then copy, overwriting existing files,
     all the existing HTML files, to new file, prepended 
     with "-new". -->
  <target name="gppcopy" description="gppcopy" depends="gppInit">
    <gppcopy verbose="true" overwrite="true" todir="${html.files}">
      <fileset dir="${html.files}"/>
      <mapper type="glob" from="*.html" to="*-new.html" />
    </gppcopy>
  </target>

</project>